# üöÄ Process Monitor ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (Windows)

–ù–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Windows —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ó–∞–ø—É—Å–∫ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞)

```bash
npm run monitor:start
```

**–ì–æ—Ç–æ–≤–æ!** Server –∏ Client —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ñ–æ–Ω–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º.

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞

```bash
npm run monitor:status
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
============================================================
üìä PROCESS STATUS
============================================================
‚úÖ RUNNING | server          | PID: 12345
‚úÖ RUNNING | client          | PID: 12346
============================================================
```

### 3Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm run monitor:stop
```

---

## üéØ –ß—Ç–æ –≠—Ç–æ –î–∞–µ—Ç?

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
–ï—Å–ª–∏ server –∏–ª–∏ client –ø–∞–¥–∞—é—Ç ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã (–¥–æ 10 —Ä–∞–∑).

### ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –§–∞–π–ª—ã
–í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/`:
- `server-out.log` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
- `server-error.log` ‚Äî –æ—à–∏–±–∫–∏
- `client-out.log` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
- `client-error.log` ‚Äî –æ—à–∏–±–∫–∏

### ‚úÖ Health Checks
–ú–æ–Ω–∏—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `http://localhost:3001/health` –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥.

### ‚úÖ Graceful Shutdown
–ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (Ctrl+C –∏–ª–∏ npm run monitor:stop) –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è.

### ‚úÖ –°—Ç–∞—Ç—É—Å –ö–∞–∂–¥—ã–µ 60 –°–µ–∫—É–Ω–¥
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.

---

## üìù –í—Å–µ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run monitor:start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ |
| `npm run monitor:prod` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ production —Ä–µ–∂–∏–º–µ |
| `npm run monitor:stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã |
| `npm run monitor:status` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å |

---

## üîß –¢–∏–ø–∏—á–Ω—ã–π –†–∞–±–æ—á–∏–π –î–µ–Ω—å

```bash
# –£—Ç—Ä–æ–º: –∑–∞–ø—É—Å–∫–∞–µ–º
npm run monitor:start

# –ú–æ–Ω–∏—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
# –ú–æ–∂–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ - –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
npm run monitor:status

# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
notepad logs\server-out.log
notepad logs\server-error.log

# –í–µ—á–µ—Ä–æ–º: –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
npm run monitor:stop
```

---

## üìä –ß—Ç–æ –í–∏–¥–Ω–æ –≤ –ö–æ–Ω—Å–æ–ª–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `npm run monitor:start`:

```
[2025-10-24 17:35:00] [monitor] Starting in dev mode...
[2025-10-24 17:35:00] [server] Starting: npm.cmd run dev
[2025-10-24 17:35:01] [client] Starting: npm.cmd run dev
[2025-10-24 17:35:02] [monitor] ‚úÖ All processes started. Press Ctrl+C to stop.
[2025-10-24 17:35:02] [monitor] Logs: C:\dev\fantasy-draft-app\logs

[server] > server@0.1.0 dev
[server] > ts-node-dev --respawn --transpile-only src/index.ts
[client] > client@0.1.0 dev
[client] > vite

============================================================
üìä PROCESS STATUS (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫)
============================================================
‚úÖ server          | PID: 12345 | Uptime: 60s | Restarts: 0
‚úÖ client          | PID: 12346 | Uptime: 60s | Restarts: 0
============================================================
```

---

## üö® –°—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Server –£–ø–∞–ª

```
[server] Process exited with code 1
[server] Auto-restarting (1/10) in 2 seconds...
[server] Starting: npm.cmd run dev
```

–ú–æ–Ω–∏—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–ª–∏—à–∫–æ–º –ú–Ω–æ–≥–æ –†–µ—Å—Ç–∞—Ä—Ç–æ–≤

```
[server] Exited with code 1
[server] Auto-restarting (10/10) in 2 seconds...
[server] Too many restarts (10), giving up.
```

–ü–æ—Å–ª–µ 10 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
notepad logs\server-error.log
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Graceful Shutdown (Ctrl+C)

```
[monitor] Received SIGINT, shutting down gracefully...
[server] Stopping...
[client] Stopping...
[monitor] ‚úÖ Shutdown complete
```

---

## üõ†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
npm run monitor:status

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–Ω–æ–≤–∞
npm run monitor:stop

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, —É–±–µ–π—Ç–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Task Manager
# (–Ω–∞–π–¥–∏—Ç–µ node.exe –ø—Ä–æ—Ü–µ—Å—Å—ã)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä
npm run monitor:stop

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
npm run monitor:status

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
npm run monitor:start
```

### –ü—Ä–æ–±–ª–µ–º–∞: –•–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```powershell
# –í PowerShell –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Get-Content —Å -Wait
Get-Content logs\server-out.log -Wait

# –ò–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
notepad logs\server-out.log
```

---

## üìà Production –†–µ–∂–∏–º

```bash
# 1. –°–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç
npm run build:all

# 2. –ó–∞–ø—É—Å–∫–∞–µ–º –≤ production
npm run monitor:prod

# 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
npm run monitor:status

# 4. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
npm run monitor:stop
```

–í production —Ä–µ–∂–∏–º–µ:
- Server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `npm start` (—É–∂–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–π)
- Client –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `npm run preview` (Vite preview)
- –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/server-prod-*.log` –∏ `logs/client-prod-*.log`

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ vs orchestrator.js

| –§—É–Ω–∫—Ü–∏—è | orchestrator.js | monitor.js |
|---------|----------------|------------|
| –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ | ‚úÖ | ‚úÖ |
| –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ | ‚úÖ (–±–∞–∑–æ–≤—ã–π) | ‚úÖ (—É–º–Ω—ã–π, –¥–æ 10 —Ä–∞–∑) |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | –¢–æ–ª—å–∫–æ console | ‚úÖ –§–∞–π–ª—ã + console |
| –°—Ç–∞—Ç—É—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | ‚ùå | ‚úÖ –ö–∞–∂–¥—ã–µ 60 —Å–µ–∫ |
| Health checks | ‚ùå | ‚úÖ |
| Graceful shutdown | –ß–∞—Å—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| PID tracking | ‚úÖ | ‚úÖ |
| –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows | ‚úÖ | ‚úÖ 100% |

---

## üí° –õ—É—á—à–∏–µ –ü—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:**
   ```bash
   npm run monitor:start
   # –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 —Å–µ–∫—É–Ω–¥
   npm run monitor:status
   ```

2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫:**
   ```bash
   notepad logs\server-error.log
   notepad logs\client-error.log
   ```

3. **Graceful shutdown –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:**
   ```bash
   npm run monitor:stop
   ```

4. **–í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É:**
   ```bash
   npm run monitor:prod
   ```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –õ–æ–≥–æ–≤

```
logs/
‚îú‚îÄ‚îÄ server-out.log       # Server stdout (dev)
‚îú‚îÄ‚îÄ server-error.log     # Server stderr (dev)
‚îú‚îÄ‚îÄ client-out.log       # Client stdout (dev)
‚îú‚îÄ‚îÄ client-error.log     # Client stderr (dev)
‚îú‚îÄ‚îÄ server-prod-out.log     # Server stdout (prod)
‚îú‚îÄ‚îÄ server-prod-error.log   # Server stderr (prod)
‚îú‚îÄ‚îÄ client-prod-out.log     # Client stdout (prod)
‚îî‚îÄ‚îÄ client-prod-error.log   # Client stderr (prod)
```

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è (–Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü).

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è Windows —Å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ —Ñ–∞–π–ª—ã
- ‚úÖ Health checks
- ‚úÖ Graceful shutdown
- ‚úÖ –°—Ç–∞—Ç—É—Å–æ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

**–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –∑–∞–±—É–¥—å—Ç–µ:**
```bash
npm run monitor:start
```

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ:**
- Client: http://localhost:5173
- Server: http://localhost:3001
- Health: http://localhost:3001/health
