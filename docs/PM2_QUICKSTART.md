# 🚀 PM2 Quick Start — За 2 минуты

Автоматическое управление server и client без слежения за терминалами.

---

## ⚡ Быстрый Старт

### 1️⃣ Первичная настройка (один раз)

```bash
npm run pm2:setup
```

Ответьте на вопросы (автозапуск при старте системы — опционально).

### 2️⃣ Запуск проекта

```bash
npm run pm2:start
```

**Готово! Теперь server и client работают в фоне.**

### 3️⃣ Проверка статуса

```bash
npm run pm2:status
```

Вы увидите:
```
┌────┬──────────────────┬─────────┬─────────┬──────────┐
│ id │ name             │ status  │ cpu     │ memory   │
├────┼──────────────────┼─────────┼─────────┼──────────┤
│ 0  │ draft-server     │ online  │ 0.5%    │ 45.2 MB  │
│ 1  │ draft-client     │ online  │ 0.2%    │ 32.1 MB  │
└────┴──────────────────┴─────────┴─────────┴──────────┘
```

### 4️⃣ Смотрим логи (если нужно)

```bash
npm run pm2:logs
```

Или только ошибки:
```bash
npm run pm2:logs:error
```

### 5️⃣ Остановка

```bash
npm run pm2:stop
```

---

## 🎯 Главные Преимущества

✅ **Не нужно следить за терминалами** — всё работает в фоне  
✅ **Автоматический перезапуск** — если что-то упало, PM2 перезапустит  
✅ **Логи сохраняются** — в `logs/` директории  
✅ **Мониторинг** — `npm run pm2:monitor` для dashboard  
✅ **Health checks** — PM2 проверяет `/health` каждые 30 секунд  

---

## 📝 Основные Команды

| Команда | Описание |
|---------|----------|
| `npm run pm2:start` | Запустить всё |
| `npm run pm2:stop` | Остановить всё |
| `npm run pm2:restart` | Перезапустить |
| `npm run pm2:status` | Проверить статус |
| `npm run pm2:logs` | Смотреть логи |
| `npm run pm2:monitor` | Открыть dashboard |

---

## 🔧 Если Что-то Пошло Не Так

### Порты заняты?

```bash
npm run pm2:stop
npm run pm2:delete
npm run pm2:start
```

### Хотите начать с чистого листа?

```bash
npm run pm2:delete
pm2 kill
npm run pm2:start
```

### Нужна помощь?

Смотрите полное руководство: [PM2_GUIDE.md](./PM2_GUIDE.md)

---

## 🎉 Готово!

Теперь вы можете работать без отвлечения на терминалы.  
PM2 автоматически управляет процессами за вас! 

**Приложение доступно:**
- Client: http://localhost:5173
- Server: http://localhost:3001
- Health: http://localhost:3001/health
